"use strict";(self.webpackChunkberlin_equal_street_names=self.webpackChunkberlin_equal_street_names||[]).push([[2065],{92065:(e,t,i)=>{i.r(t),i.d(t,{default:()=>A});var n=i(36663),s=i(53443),r=i(41151),o=i(86618),l=i(82064),a=i(61681),p=i(81977),u=(i(7753),i(39994),i(7283),i(40266));let y=0,d=class extends((0,l.eC)((0,r.J)((0,o.IG)(s.Z)))){constructor(e){super(e),this.id=`${Date.now().toString(16)}-analysis-${y++}`,this.title=null}get parent(){return this._get("parent")}set parent(e){const t=this.parent;if((0,a.pC)(t))switch(t.type){case"line-of-sight":t.removeAnalysis(this);break;case"2d":case"3d":t.analyses.includes(this)&&t.analyses.remove(this)}this._set("parent",e)}get isEditable(){return this.requiredPropertiesForEditing.every(a.pC)}};(0,n._)([(0,p.Cb)({type:String,constructOnly:!0,clonable:!1})],d.prototype,"id",void 0),(0,n._)([(0,p.Cb)({type:String})],d.prototype,"title",void 0),(0,n._)([(0,p.Cb)({constructOnly:!0})],d.prototype,"type",void 0),(0,n._)([(0,p.Cb)({clonable:!1,value:null})],d.prototype,"parent",null),(0,n._)([(0,p.Cb)({readOnly:!0})],d.prototype,"extent",void 0),(0,n._)([(0,p.Cb)({readOnly:!0})],d.prototype,"isEditable",null),(0,n._)([(0,p.Cb)({readOnly:!0})],d.prototype,"requiredPropertiesForEditing",void 0),(0,n._)([(0,p.Cb)({readOnly:!0})],d.prototype,"nonEditableMessage",void 0),d=(0,n._)([(0,u.j)("esri.analysis.Analysis")],d);const h=d;function b(e,t){return c(e)===c(t)}function c(e){if((0,a.Wi)(e))return null;const t=null!=e.layer?e.layer.id:"";let i=null;return i=null!=e.objectId?e.objectId:null!=e.layer&&"objectIdField"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==i?null:`o-${t}-${i}`}const g={json:{write:{writer:function(e,t){(0,a.Wi)(e)||null==e.layer?.objectIdField||null==e.attributes||(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:e.objectId}}}}}}};var v=i(42557),f=i(53446),C=i(74710);let _=class extends((0,l.eC)((0,r.J)(s.Z))){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return(0,a._W)(this.position,e.position)&&(0,a._W)(this.elevationInfo,e.elevationInfo)&&b(this.feature,e.feature)}};(0,n._)([(0,p.Cb)({type:f.Z}),(0,v.B)()],_.prototype,"position",void 0),(0,n._)([(0,p.Cb)({type:C.ZP}),(0,v.B)()],_.prototype,"elevationInfo",void 0),(0,n._)([(0,p.Cb)(g)],_.prototype,"feature",void 0),_=(0,n._)([(0,u.j)("esri.analysis.LineOfSightAnalysisObserver")],_);const w=_;let j=class extends((0,l.eC)(r.j)){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return(0,a._W)(this.position,e.position)&&(0,a._W)(this.elevationInfo,e.elevationInfo)&&b(this.feature,e.feature)}};(0,n._)([(0,p.Cb)({type:f.Z}),(0,v.B)()],j.prototype,"position",void 0),(0,n._)([(0,p.Cb)({type:C.ZP}),(0,v.B)()],j.prototype,"elevationInfo",void 0),(0,n._)([(0,p.Cb)(g)],j.prototype,"feature",void 0),j=(0,n._)([(0,u.j)("esri.analysis.LineOfSightAnalysisTarget")],j);const I=j;var O=i(6865),x=i(58811),m=i(76868),E=i(92376),W=i(37116);i(91478);const L=O.Z.ofType(I);let S=class extends h{constructor(e){super(e),this.type="line-of-sight",this.observer=null,this.extent=null,this.nonEditableMessage="Assign an observer location to the analysis to allow editing."}initialize(){this.own((0,m.YP)((()=>this._computeExtent()),(e=>{((0,a.Wi)(e)||(0,a.Wi)(e.pending))&&this._set("extent",(0,a.pC)(e)?e.extent:null)}),m.tX))}get targets(){return this._get("targets")||new L}set targets(e){this._set("targets",(0,x.Z)(e,this.targets,L))}get spatialReference(){return(0,a.pC)(this.observer)&&(0,a.pC)(this.observer.position)?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[(0,a.yw)(this.observer,(e=>e.position))]}async waitComputeExtent(){const e=this._computeExtent();return(0,a.pC)(e)?(0,a.Wg)(e.pending):null}_computeExtent(){const e=this.spatialReference;if((0,a.Wi)(this.observer)||(0,a.Wi)(this.observer.position)||(0,a.Wi)(e))return null;const t=e=>"absolute-height"===function(e,t){return function(e,t){return(0,a.Wi)(t)||!t.mode?e?"absolute-height":"on-the-ground":t.mode}(!!(0,a.pC)(e)&&e.hasZ,t)}(e.position,e.elevationInfo),i=this.observer.position,n=(0,W.al)(i.x,i.y,i.z,i.x,i.y,i.z);for(const t of this.targets)if((0,a.pC)(t.position)){const i=(0,E.dz)(t.position,e);if((0,a.pC)(i.pending))return{pending:i.pending,extent:null};if((0,a.pC)(i.geometry)){const{x:e,y:t,z:s}=i.geometry;(0,W.pp)(n,[e,t,s])}}const s=(0,W.HH)(n,e);return t(this.observer)&&this.targets.every(t)||(s.zmin=null,s.zmax=null),{pending:null,extent:s}}clear(){this.observer=null,this.targets.removeAll()}};(0,n._)([(0,p.Cb)({type:["line-of-sight"]})],S.prototype,"type",void 0),(0,n._)([(0,p.Cb)({type:w,json:{read:!0,write:!0}})],S.prototype,"observer",void 0),(0,n._)([(0,p.Cb)({cast:x.R,type:L,nonNullable:!0,json:{read:!0,write:!0}})],S.prototype,"targets",null),(0,n._)([(0,p.Cb)({value:null,readOnly:!0})],S.prototype,"extent",void 0),(0,n._)([(0,p.Cb)({readOnly:!0})],S.prototype,"spatialReference",null),(0,n._)([(0,p.Cb)({readOnly:!0})],S.prototype,"requiredPropertiesForEditing",null),(0,n._)([(0,p.Cb)({readOnly:!0})],S.prototype,"nonEditableMessage",void 0),S=(0,n._)([(0,u.j)("esri.analysis.LineOfSightAnalysis")],S);const Z=S;var F=i(15842),R=i(38481),q=i(43330);const P=O.Z.ofType(I);let z=class extends((0,q.q)((0,F.R)(R.Z))){constructor(e){super(e),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new Z,this.opacity=1}initialize(){this.own((0,m.YP)((()=>this.analysis),((e,t)=>{(0,a.pC)(t)&&t.parent===this&&(t.parent=null),(0,a.pC)(e)&&(e.parent=this)}),m.tX))}async load(){return(0,a.pC)(this.analysis)&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this}get observer(){return(0,a.yw)(this.analysis,(e=>e.observer))}set observer(e){(0,a.yw)(this.analysis,(t=>t.observer=e))}get targets(){return(0,a.pC)(this.analysis)?this.analysis.targets:null}set targets(e){(0,a.yw)(this.analysis,(t=>t.targets=e))}get fullExtent(){return(0,a.pC)(this.analysis)?this.analysis.extent:null}get spatialReference(){return(0,a.pC)(this.analysis)?this.analysis.spatialReference:null}removeAnalysis(e){this.analysis===e&&(this.analysis=new Z)}};(0,n._)([(0,p.Cb)({json:{read:!1},readOnly:!0})],z.prototype,"type",void 0),(0,n._)([(0,p.Cb)({type:["LineOfSightLayer"]})],z.prototype,"operationalLayerType",void 0),(0,n._)([(0,p.Cb)({type:w,json:{read:!0,write:{ignoreOrigin:!0}}})],z.prototype,"observer",null),(0,n._)([(0,p.Cb)({type:P,json:{read:!0,write:{ignoreOrigin:!0}}})],z.prototype,"targets",null),(0,n._)([(0,p.Cb)({nonNullable:!0,json:{read:!1,write:!1}})],z.prototype,"analysis",void 0),(0,n._)([(0,p.Cb)({readOnly:!0})],z.prototype,"fullExtent",null),(0,n._)([(0,p.Cb)({readOnly:!0})],z.prototype,"spatialReference",null),(0,n._)([(0,p.Cb)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],z.prototype,"opacity",void 0),(0,n._)([(0,p.Cb)({type:["show","hide"]})],z.prototype,"listMode",void 0),z=(0,n._)([(0,u.j)("esri.layers.LineOfSightLayer")],z);const A=z}}]);